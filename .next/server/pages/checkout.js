"use strict";(()=>{var e={};e.id=2222,e.ids=[2222],e.modules={363:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>x,default:()=>p,getServerSideProps:()=>h,getStaticPaths:()=>m,getStaticProps:()=>u,reportWebVitals:()=>j,routeModule:()=>b,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>y});var a=s(5872),i=s(3593),l=s(1323),o=s(7997),n=s(784),c=s(6390),d=e([n,c]);[n,c]=d.then?(await d)():d;let p=(0,l.l)(c,"default"),u=(0,l.l)(c,"getStaticProps"),m=(0,l.l)(c,"getStaticPaths"),h=(0,l.l)(c,"getServerSideProps"),x=(0,l.l)(c,"config"),j=(0,l.l)(c,"reportWebVitals"),y=(0,l.l)(c,"unstable_getStaticProps"),g=(0,l.l)(c,"unstable_getStaticPaths"),f=(0,l.l)(c,"unstable_getStaticParams"),v=(0,l.l)(c,"unstable_getServerProps"),N=(0,l.l)(c,"unstable_getServerSideProps"),b=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/checkout",pathname:"/checkout",bundlePath:"",filename:""},components:{App:n.default,Document:o.default},userland:c});r()}catch(e){r(e)}})},3557:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(997);s(6689);let a=({title:e,subtitle:t,center:s=!1,bg_clr:a=!1})=>(0,r.jsx)("section",{className:`breadcrumb__area ${s?"text-center":""} include-bg pt-95 pb-50`,style:{backgroundColor:a&&"#EFF1F5"},children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-xxl-12",children:(0,r.jsxs)("div",{className:"breadcrumb__content p-relative z-index-1",children:[(0,r.jsx)("h3",{className:"breadcrumb__title",children:e}),(0,r.jsxs)("div",{className:"breadcrumb__list",children:[(0,r.jsx)("span",{children:(0,r.jsx)("a",{href:"#",children:"Home"})}),(0,r.jsx)("span",{children:t})]})]})})})})})},2283:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>h});var a=s(997);s(6689);var i=s(6022),l=s(1664),o=s.n(l),n=s(9483),c=s(5248),d=s(8008),p=s(3574),u=s(9538),m=e([d,u]);[d,u]=m.then?(await m)():m;let h=()=>{let e=(0,u.Z)(),{handleSubmit:t,submitHandler:s,register:r,errors:l,handleCouponCode:m,couponRef:h,couponApplyMsg:x}=e,{cart_products:j}=(0,i.useSelector)(e=>e.cart);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("section",{className:"tp-checkout-area pb-120",style:{backgroundColor:"#EFF1F5"},children:(0,a.jsxs)("div",{className:"container",children:[0===j.length&&(0,a.jsxs)("div",{className:"text-center pt-50",children:[(0,a.jsx)("h3",{className:"py-2",children:"No items found in cart to checkout"}),(0,a.jsx)(o(),{href:"/shop",className:"tp-checkout-btn",children:"Return to shop"})]}),j.length>0&&(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-xl-7 col-lg-7",children:(0,a.jsxs)("div",{className:"tp-checkout-verify",children:[(0,a.jsx)(d.Z,{}),(0,a.jsx)(c.Z,{handleCouponCode:m,couponRef:h,couponApplyMsg:x})]})}),(0,a.jsx)("form",{onSubmit:t(s),children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-7",children:(0,a.jsx)(n.Z,{register:r,errors:l})}),(0,a.jsx)("div",{className:"col-lg-5",children:(0,a.jsx)(p.Z,{checkoutData:e})})]})})]})]})})})};r()}catch(e){r(e)}})},9483:(e,t,s)=>{s.d(t,{Z:()=>l});var r=s(997);s(6689);var a=s(822),i=s(6022);let l=({register:e,errors:t})=>{let{user:s}=(0,i.useSelector)(e=>e.auth);return(0,r.jsxs)("div",{className:"tp-checkout-bill-area",children:[(0,r.jsx)("h3",{className:"tp-checkout-bill-title",children:"Billing Details"}),(0,r.jsx)("div",{className:"tp-checkout-bill-form",children:(0,r.jsx)("div",{className:"tp-checkout-bill-inner",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsxs)("label",{children:["First Name ",(0,r.jsx)("span",{children:"*"})]}),(0,r.jsx)("input",{...e("firstName",{required:"firstName is required!"}),name:"firstName",id:"firstName",type:"text",placeholder:"First Name",defaultValue:s?.firstName}),(0,r.jsx)(a.Z,{msg:t?.firstName?.message})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsxs)("label",{children:["Last Name ",(0,r.jsx)("span",{children:"*"})]}),(0,r.jsx)("input",{...e("lastName",{required:"lastName is required!"}),name:"lastName",id:"lastName",type:"text",placeholder:"Last Name"}),(0,r.jsx)(a.Z,{msg:t?.lastName?.message})]})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsxs)("label",{children:["Country ",(0,r.jsx)("span",{children:"*"})]}),(0,r.jsx)("input",{...e("country",{required:"country is required!"}),name:"country",id:"country",type:"text",placeholder:"United States (US)"}),(0,r.jsx)(a.Z,{msg:t?.lastName?.message})]})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsx)("label",{children:"Street address"}),(0,r.jsx)("input",{...e("address",{required:"Address is required!"}),name:"address",id:"address",type:"text",placeholder:"House number and street name"}),(0,r.jsx)(a.Z,{msg:t?.address?.message})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsx)("label",{children:"Town / City"}),(0,r.jsx)("input",{...e("city",{required:"City is required!"}),name:"city",id:"city",type:"text",placeholder:"City"}),(0,r.jsx)(a.Z,{msg:t?.city?.message})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsx)("label",{children:"Postcode ZIP"}),(0,r.jsx)("input",{...e("zipCode",{required:"zipCode is required!"}),name:"zipCode",id:"zipCode",type:"text",placeholder:"Postcode ZIP"}),(0,r.jsx)(a.Z,{msg:t?.zipCode?.message})]})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsxs)("label",{children:["Phone ",(0,r.jsx)("span",{children:"*"})]}),(0,r.jsx)("input",{...e("contactNo",{required:"ContactNumber is required!"}),name:"contactNo",id:"contactNo",type:"text",placeholder:"Phone"}),(0,r.jsx)(a.Z,{msg:t?.contactNo?.message})]})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsxs)("label",{children:["Email address ",(0,r.jsx)("span",{children:"*"})]}),(0,r.jsx)("input",{...e("email",{required:"Email is required!"}),name:"email",id:"email",type:"email",placeholder:"Email",defaultValue:s?.email}),(0,r.jsx)(a.Z,{msg:t?.email?.message})]})}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"tp-checkout-input",children:[(0,r.jsx)("label",{children:"Order notes (optional)"}),(0,r.jsx)("textarea",{...e("orderNote",{required:!1}),name:"orderNote",id:"orderNote",placeholder:"Notes about your order, e.g. special notes for delivery."})]})})]})})})]})}},5248:(e,t,s)=>{s.d(t,{Z:()=>l});var r=s(997),a=s(6689),i=s(6022);let l=({handleCouponCode:e,couponRef:t,couponApplyMsg:s})=>{let[l,o]=(0,a.useState)(!1),{coupon_info:n}=(0,i.useSelector)(e=>e.coupon);return(0,r.jsxs)("div",{className:"tp-checkout-verify-item",children:[(0,r.jsxs)("p",{className:"tp-checkout-verify-reveal",children:["Have a coupon?"," ",(0,r.jsx)("button",{onClick:()=>o(!l),type:"button",className:"tp-checkout-coupon-form-reveal-btn",children:"Click here to enter your code"})]}),l&&(0,r.jsxs)("div",{id:"tpCheckoutCouponForm",className:"tp-return-customer",children:[(0,r.jsxs)("form",{onSubmit:e,children:[(0,r.jsxs)("div",{className:"tp-return-customer-input",children:[(0,r.jsx)("label",{children:"Coupon Code :"}),(0,r.jsx)("input",{ref:t,type:"text",placeholder:"Coupon"})]}),(0,r.jsx)("button",{type:"submit",className:"tp-return-customer-btn tp-checkout-btn",children:"Apply"})]}),s&&(0,r.jsx)("p",{className:"p-2",style:{color:"green"},children:s})]})]})}},8008:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>n});var a=s(997),i=s(6689),l=s(1964),o=e([l]);l=(o.then?(await o)():o)[0];let n=()=>{let[e,t]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"tp-checkout-verify-item",children:[(0,a.jsxs)("p",{className:"tp-checkout-verify-reveal",children:["Returning customer?"," ",(0,a.jsx)("button",{onClick:()=>t(!e),type:"button",className:"tp-checkout-login-form-reveal-btn",children:"Click here to login"})]}),e&&(0,a.jsx)("div",{id:"tpReturnCustomerLoginForm",className:"tp-return-customer",children:(0,a.jsx)(l.Z,{})})]})};r()}catch(e){r(e)}})},3574:(e,t,s)=>{s.d(t,{Z:()=>n});var r=s(997);s(6689);var a=s(4515),i=s(6022),l=s(5113),o=s(822);let n=({checkoutData:e})=>{let{handleShippingCost:t,cartTotal:s=0,stripe:n,isCheckoutSubmit:c,clientSecret:d,register:p,errors:u,showCard:m,setShowCard:h,shippingCost:x,discountAmount:j}=e,{cart_products:y}=(0,i.useSelector)(e=>e.cart),{total:g}=(0,l.Z)();return(0,r.jsxs)("div",{className:"tp-checkout-place white-bg",children:[(0,r.jsx)("h3",{className:"tp-checkout-place-title",children:"Your Order"}),(0,r.jsx)("div",{className:"tp-order-info-list",children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"tp-order-info-list-header",children:[(0,r.jsx)("h4",{children:"Product"}),(0,r.jsx)("h4",{children:"Total"})]}),y.map(e=>(0,r.jsxs)("li",{className:"tp-order-info-list-desc",children:[(0,r.jsxs)("p",{children:[e.title," ",(0,r.jsxs)("span",{children:[" x ",e.orderQuantity]})]}),(0,r.jsxs)("span",{children:["$",e.price.toFixed(2)]})]},e._id)),(0,r.jsxs)("li",{className:"tp-order-info-list-shipping",children:[(0,r.jsx)("span",{children:"Shipping"}),(0,r.jsxs)("div",{className:"tp-order-info-list-shipping-item d-flex flex-column align-items-end",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("input",{...p("shippingOption",{required:"Shipping Option is required!"}),id:"flat_shipping",type:"radio",name:"shippingOption"}),(0,r.jsxs)("label",{onClick:()=>t(60),htmlFor:"flat_shipping",children:["Delivery: Today Cost :",(0,r.jsx)("span",{children:"$60.00"})]}),(0,r.jsx)(o.Z,{msg:u?.shippingOption?.message})]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("input",{...p("shippingOption",{required:"Shipping Option is required!"}),id:"flat_rate",type:"radio",name:"shippingOption"}),(0,r.jsxs)("label",{onClick:()=>t(20),htmlFor:"flat_rate",children:["Delivery: 7 Days Cost: ",(0,r.jsx)("span",{children:"$20.00"})]}),(0,r.jsx)(o.Z,{msg:u?.shippingOption?.message})]})]})]}),(0,r.jsxs)("li",{className:"tp-order-info-list-subtotal",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:["$",g.toFixed(2)]})]}),(0,r.jsxs)("li",{className:"tp-order-info-list-subtotal",children:[(0,r.jsx)("span",{children:"Shipping Cost"}),(0,r.jsxs)("span",{children:["$",x.toFixed(2)]})]}),(0,r.jsxs)("li",{className:"tp-order-info-list-subtotal",children:[(0,r.jsx)("span",{children:"Discount"}),(0,r.jsxs)("span",{children:["$",j.toFixed(2)]})]}),(0,r.jsxs)("li",{className:"tp-order-info-list-total",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["$",parseFloat(s).toFixed(2)]})]})]})}),(0,r.jsxs)("div",{className:"tp-checkout-payment",children:[(0,r.jsxs)("div",{className:"tp-checkout-payment-item",children:[(0,r.jsx)("input",{...p("payment",{required:"Payment Option is required!"}),type:"radio",id:"back_transfer",name:"payment",value:"Card"}),(0,r.jsx)("label",{onClick:()=>h(!0),htmlFor:"back_transfer","data-bs-toggle":"direct-bank-transfer",children:"Credit Card"}),m&&(0,r.jsx)("div",{className:"direct-bank-transfer",children:(0,r.jsx)("div",{className:"payment_card",children:(0,r.jsx)(a.CardElement,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})}),(0,r.jsx)(o.Z,{msg:u?.payment?.message})]}),(0,r.jsxs)("div",{className:"tp-checkout-payment-item",children:[(0,r.jsx)("input",{...p("payment",{required:"Payment Option is required!"}),onClick:()=>h(!1),type:"radio",id:"cod",name:"payment",value:"COD"}),(0,r.jsx)("label",{htmlFor:"cod",children:"Cash on Delivery"}),(0,r.jsx)(o.Z,{msg:u?.payment?.message})]})]}),(0,r.jsx)("div",{className:"tp-checkout-btn-wrapper",children:(0,r.jsx)("button",{type:"submit",disabled:!n||c,className:"tp-checkout-btn w-100",children:"Place Order"})})]})}},1964:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>g});var a=s(997),i=s(6689),l=s(5641),o=s(1908),n=s(5609),c=s(1163),d=s(1664),p=s.n(d),u=s(8203),m=s(822),h=s(4717),x=s(3696),j=e([l,o,h,x]);[l,o,h,x]=j.then?(await j)():j;let y=n.object().shape({email:n.string().required().email().label("Email"),password:n.string().required().min(6).label("Password")}),g=()=>{let[e,t]=(0,i.useState)(!1),[s,{}]=(0,h.OQ)(),r=(0,c.useRouter)(),{redirect:n}=r.query,{register:d,handleSubmit:j,formState:{errors:g},reset:f}=(0,l.useForm)({resolver:(0,o.yupResolver)(y)});return(0,a.jsxs)("form",{onSubmit:j(e=>{s({email:e.email,password:e.password}).then(e=>{e?.data?((0,x.t5)("Login successfully"),r.push(n||"/")):(0,x.cB)(e?.error?.data?.error)}),f()}),children:[(0,a.jsxs)("div",{className:"tp-login-input-wrapper",children:[(0,a.jsxs)("div",{className:"tp-login-input-box",children:[(0,a.jsx)("div",{className:"tp-login-input",children:(0,a.jsx)("input",{...d("email",{required:"Email is required!"}),name:"email",id:"email",type:"email",placeholder:"shofy@mail.com"})}),(0,a.jsx)("div",{className:"tp-login-input-title",children:(0,a.jsx)("label",{htmlFor:"email",children:"Your Email"})}),(0,a.jsx)(m.Z,{msg:g.email?.message})]}),(0,a.jsxs)("div",{className:"tp-login-input-box",children:[(0,a.jsxs)("div",{className:"p-relative",children:[(0,a.jsx)("div",{className:"tp-login-input",children:(0,a.jsx)("input",{...d("password",{required:"Password is required!"}),id:"password",type:e?"text":"password",placeholder:"Min. 6 character"})}),(0,a.jsx)("div",{className:"tp-login-input-eye",id:"password-show-toggle",children:(0,a.jsx)("span",{className:"open-eye",onClick:()=>t(!e),children:e?(0,a.jsx)(u.Yo,{}):(0,a.jsx)(u.jd,{})})}),(0,a.jsx)("div",{className:"tp-login-input-title",children:(0,a.jsx)("label",{htmlFor:"password",children:"Password"})})]}),(0,a.jsx)(m.Z,{msg:g.password?.message})]})]}),(0,a.jsxs)("div",{className:"tp-login-suggetions d-sm-flex align-items-center justify-content-between mb-20",children:[(0,a.jsxs)("div",{className:"tp-login-remeber",children:[(0,a.jsx)("input",{id:"remeber",type:"checkbox"}),(0,a.jsx)("label",{htmlFor:"remeber",children:"Remember me"})]}),(0,a.jsx)("div",{className:"tp-login-forgot",children:(0,a.jsx)(p(),{href:"/forgot",children:"Forgot Password?"})})]}),(0,a.jsx)("div",{className:"tp-login-bottom",children:(0,a.jsx)("button",{type:"submit",className:"tp-login-btn w-100",children:"Login"})})]})};r()}catch(e){r(e)}})},9538:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>f});var a=s(997),i=s(1635),l=s(6689),o=s(6022),n=s(4515),c=s(5641),d=s(1163),p=s(9915),u=s(5113),m=s(9914),h=s(2479),x=s(3696),j=s(1436),y=s(5811),g=e([c,p,x,j,y]);[c,p,x,j,y]=g.then?(await g)():g;let f=()=>{let{data:e,isError:t,isLoading:s}=(0,y.d)(),[r,{}]=(0,j.yX)(),[p,{}]=(0,j.HY)(),{cart_products:g}=(0,o.useSelector)(e=>e.cart),{user:f}=(0,o.useSelector)(e=>e.auth),{shipping_info:v}=(0,o.useSelector)(e=>e.order),{total:N,setTotal:b}=(0,u.Z)(),[k,S]=(0,l.useState)({}),[q,C]=(0,l.useState)(""),[P,w]=(0,l.useState)(0),[Z,O]=(0,l.useState)(0),[_,T]=(0,l.useState)(0),[F,E]=(0,l.useState)(0),[I,D]=(0,l.useState)(""),[$,A]=(0,l.useState)(!1),[U,z]=(0,l.useState)(""),[B,Q]=(0,l.useState)(""),[R,H]=(0,l.useState)(!1),[M,Y]=(0,l.useState)(""),L=(0,o.useDispatch)(),J=(0,d.useRouter)(),V=(0,n.useStripe)(),W=(0,n.useElements)(),{register:X,handleSubmit:G,setValue:K,formState:{errors:ee}}=(0,c.useForm)(),et=(0,l.useRef)("");(0,l.useEffect)(()=>{if(localStorage.getItem("couponInfo")){let e=localStorage.getItem("couponInfo"),t=JSON.parse(e);S(t),E(t.discountPercentage),w(t.minimumAmount),D(t.productType)}},[]),(0,l.useEffect)(()=>{(P-_>N||0===g.length)&&(E(0),localStorage.removeItem("couponInfo"))},[P,N,_,g]),(0,l.useEffect)(()=>{let e=g?.filter(e=>e.productType===I),t=e?.reduce((e,t)=>e+t.price*t.orderQuantity,0),s="",r=Number((N+Z).toFixed(2)),a=Number(F/100*t);s=Number(r-a),T(a),C(s)},[N,Z,F,g,I,_,q]),(0,l.useEffect)(()=>{q&&p({price:parseInt(q)}).then(e=>{Q(e?.data?.clientSecret)}).catch(e=>{console.log(e)})},[p,q]),(0,l.useEffect)(()=>{K("firstName",v.firstName),K("lastName",v.lastName),K("country",v.country),K("address",v.address),K("city",v.city),K("zipCode",v.zipCode),K("contactNo",v.contactNo),K("email",v.email),K("orderNote",v.orderNote)},[f,K,v,J]);let es=async e=>{L((0,m.BM)(e)),A(!0);let t={name:`${e.firstName} ${e.lastName}`,address:e.address,contact:e.contactNo,email:e.email,city:e.city,country:e.country,zipCode:e.zipCode,shippingOption:e.shippingOption,status:"Pending",cart:g,paymentMethod:e.payment,subTotal:N,shippingCost:Z,discount:_,totalAmount:q,orderNote:e.orderNote,user:`${f?._id}`};if("Card"===e.payment){if(!V||!W)return;let e=W.getElement(n.CardElement);if(null==e)return;let{error:s,paymentMethod:r}=await V.createPaymentMethod({type:"card",card:e});if(s&&!r)z(s.message),A(!1);else{z("");let e={...t,cardInfo:r};return er(e)}}"COD"===e.payment&&r({...t}).then(e=>{e?.error||(localStorage.removeItem("cart_products"),localStorage.removeItem("couponInfo"),A(!1),(0,x.t5)("Your Order Confirmed!"),J.push(`/order/${e.data?.order?._id}`))})},er=async e=>{try{let{paymentIntent:t,error:s}=await V.confirmCardPayment(B,{payment_method:{card:W.getElement(n.CardElement),billing_details:{name:f?.firstName,email:f?.email}}});s&&(0,x.cB)(s.message);let a={...e,paymentIntent:t};r({...a}).then(e=>{e?.error||(localStorage.removeItem("couponInfo"),(0,x.t5)("Your Order Confirmed!"),J.push(`/order/${e.data?.order?._id}`))})}catch(e){console.log(e)}};return{handleCouponCode:r=>{if(r.preventDefault(),!et.current?.value){(0,x.cB)("Please Input a Coupon Code!");return}if(s)return(0,a.jsx)("h3",{children:"Loading..."});if(t)return(0,x.cB)("Something went wrong");let l=e?.filter(e=>e.couponCode===et.current?.value);if(l.length<1){(0,x.cB)("Please Input a Valid Coupon!");return}if(i().isAfter(i(l[0]?.endTime))){(0,x.cB)("This coupon is not valid!");return}if(N<l[0]?.minimumAmount){(0,x.cB)(`Minimum ${l[0].minimumAmount} USD required for Apply this coupon!`);return}Y(`Your Coupon ${l[0].title} is Applied on ${l[0].productType} productType!`),w(l[0]?.minimumAmount),D(l[0].productType),E(l[0].discountPercentage),L((0,h.NK)(l[0])),setTimeout(()=>{et.current.value="",Y("")},5e3)},couponRef:et,handleShippingCost:e=>{O(e)},discountAmount:_,total:N,shippingCost:Z,discountPercentage:F,discountProductType:I,isCheckoutSubmit:$,setTotal:b,register:X,errors:ee,cardError:U,submitHandler:es,stripe:V,handleSubmit:G,clientSecret:B,setClientSecret:Q,cartTotal:q,isCheckoutSubmit:$,couponApplyMsg:M,showCard:R,setShowCard:H}};r()}catch(e){r(e)}})},6390:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x});var a=s(997),i=s(6689),l=s(9915),o=s(1163),n=s(1517),c=s(2518),d=s(43),p=s(4452),u=s(3557),m=s(2283),h=e([l,c,d,m]);[l,c,d,m]=h.then?(await h)():h;let x=()=>{let e=(0,o.useRouter)();return(0,i.useEffect)(()=>{l.default.get("userInfo")||e.push("/login")},[e]),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(n.Z,{pageTitle:"Checkout"}),(0,a.jsx)(d.Z,{style_2:!0}),(0,a.jsx)(u.Z,{title:"Checkout",subtitle:"Checkout",bg_clr:!0}),(0,a.jsx)(m.Z,{}),(0,a.jsx)(p.Z,{style_2:!0})]})};r()}catch(e){r(e)}})},4717:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{$h:()=>m,DW:()=>c,Eo:()=>x,OQ:()=>n,TG:()=>h,gL:()=>p,kl:()=>d,nc:()=>u});var a=s(6703),i=s(5049),l=s(9915),o=e([a,i,l]);[a,i,l]=o.then?(await o)():o;let{useLoginUserMutation:n,useRegisterUserMutation:c,useConfirmEmailQuery:d,useResetPasswordMutation:p,useConfirmForgotPasswordMutation:u,useChangePasswordMutation:m,useUpdateProfileMutation:h,useSignUpProviderMutation:x}=a.g.injectEndpoints({overrideExisting:!0,endpoints:e=>({registerUser:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/user/signup",method:"POST",body:e})}),signUpProvider:e.mutation({query:e=>({url:`https://shofy-backend.vercel.app/api/user/register/${e}`,method:"POST"}),async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{let e=await t;l.default.set("userInfo",JSON.stringify({accessToken:e.data.data.token,user:e.data.data.user}),{expires:.5}),s((0,i.nD)({accessToken:e.data.data.token,user:e.data.data.user}))}catch(e){}}}),loginUser:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/user/login",method:"POST",body:e}),async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{let e=await t;l.default.set("userInfo",JSON.stringify({accessToken:e.data.data.token,user:e.data.data.user}),{expires:.5}),s((0,i.nD)({accessToken:e.data.data.token,user:e.data.data.user}))}catch(e){}}}),getUser:e.query({query:()=>"https://shofy-backend.vercel.app/api/user/me",async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{let e=await t;s((0,i.nD)({user:e.data}))}catch(e){}}}),confirmEmail:e.query({query:e=>`https://shofy-backend.vercel.app/api/user/confirmEmail/${e}`,async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{let e=await t;l.default.set("userInfo",JSON.stringify({accessToken:e.data.data.token,user:e.data.data.user}),{expires:.5}),s((0,i.nD)({accessToken:e.data.data.token,user:e.data.data.user}))}catch(e){}}}),resetPassword:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/user/forget-password",method:"PATCH",body:e})}),confirmForgotPassword:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/user/confirm-forget-password",method:"PATCH",body:e})}),changePassword:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/user/change-password",method:"PATCH",body:e})}),updateProfile:e.mutation({query:({id:e,...t})=>({url:`https://shofy-backend.vercel.app/api/user/update-user/${e}`,method:"PUT",body:t}),async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{let e=await t;l.default.set("userInfo",JSON.stringify({accessToken:e.data.data.token,user:e.data.data.user}),{expires:.5}),s((0,i.nD)({accessToken:e.data.data.token,user:e.data.data.user}))}catch(e){}}})})});r()}catch(e){r(e)}})},1436:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{HY:()=>o,SB:()=>d,T2:()=>c,yX:()=>n});var a=s(6703),i=s(9914),l=e([a]);let{useCreatePaymentIntentMutation:o,useSaveOrderMutation:n,useGetUserOrderByIdQuery:c,useGetUserOrdersQuery:d}=(a=(l.then?(await l)():l)[0]).g.injectEndpoints({overrideExisting:!0,endpoints:e=>({createPaymentIntent:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/order/create-payment-intent",method:"POST",body:e}),async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{let e=await t;s((0,i.SZ)(e.clientSecret))}catch(e){}}}),saveOrder:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/order/saveOrder",method:"POST",body:e}),invalidatesTags:["UserOrders"],async onQueryStarted(e,{queryFulfilled:t,dispatch:s}){try{await t&&(localStorage.removeItem("couponInfo"),localStorage.removeItem("cart_products"),localStorage.removeItem("shipping_info"))}catch(e){}}}),getUserOrders:e.query({query:()=>"https://shofy-backend.vercel.app/api/user-order",providesTags:["UserOrders"],keepUnusedDataFor:600}),getUserOrderById:e.query({query:e=>`https://shofy-backend.vercel.app/api/user-order/${e}`,providesTags:(e,t,s)=>[{type:"UserOrder",id:s}],keepUnusedDataFor:600})})});r()}catch(e){r(e)}})},6999:e=>{e.exports=require("@react-oauth/google")},5184:e=>{e.exports=require("@reduxjs/toolkit")},4335:e=>{e.exports=require("@reduxjs/toolkit/query/react")},4515:e=>{e.exports=require("@stripe/react-stripe-js")},943:e=>{e.exports=require("@stripe/stripe-js")},1635:e=>{e.exports=require("dayjs")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},2807:e=>{e.exports=require("react-copy-to-clipboard")},6405:e=>{e.exports=require("react-dom")},9931:e=>{e.exports=require("react-modal")},9485:e=>{e.exports=require("react-modal-video")},6022:e=>{e.exports=require("react-redux")},7386:e=>{e.exports=require("react-simple-star-rating")},8176:e=>{e.exports=require("react-spinners")},1305:e=>{e.exports=require("react-timer-hook")},997:e=>{e.exports=require("react/jsx-runtime")},5609:e=>{e.exports=require("yup")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},1908:e=>{e.exports=import("@hookform/resolvers/yup")},9915:e=>{e.exports=import("js-cookie")},5641:e=>{e.exports=import("react-hook-form")},3590:e=>{e.exports=import("react-toastify")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6859,6296,1386,593,4452,43],()=>s(363));module.exports=r})();