(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8441],{72284:(e,s,c)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/order/[id]",function(){return c(3008)}])},84163:(e,s,c)=>{"use strict";c.d(s,{Z:()=>a});var r=c(85893),i=c(4677);let a=function(e){let{loading:s}=e;return(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"700px"},children:(0,r.jsx)(i.Z,{loading:s})})}},3008:(e,s,c)=>{"use strict";c.r(s),c.d(s,{__N_SSP:()=>_,default:()=>b});var r=c(85893);c(11163);var i=c(67294),a=c(25675),l=c.n(a),t=c(27484),d=c.n(t),n=c(47116),o=c.n(n),m=c(38055),h=c(4976),p=c(34509),x=c(8642),j=c(9104),v=c(48813),N=c(19209),u=c(84163),_=!0;let b=e=>{let{params:s}=e,c=s.id,a=(0,i.useRef)(),{data:t,isError:n,isLoading:_}=(0,N.T2)(c),b=null;if(_&&(b=(0,r.jsx)(u.Z,{loading:_})),n&&(b=(0,r.jsx)(v.Z,{msg:"There was an error"})),!_&&!n){let{name:e,country:s,city:c,contact:i,invoice:n,createdAt:m,cart:h,shippingCost:p,discount:x,totalAmount:v,paymentMethod:N}=t.order;b=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:"invoice__area pt-120 pb-120",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"invoice__msg-wrapper",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-xl-12",children:(0,r.jsx)("div",{className:"invoice_msg mb-40",children:(0,r.jsxs)("p",{className:"text-black alert alert-success",children:["Thank you ",(0,r.jsx)("strong",{children:e})," Your order have been received ! "]})})})})}),(0,r.jsxs)("div",{ref:a,className:"invoice__wrapper grey-bg-2 pt-40 pb-40 pl-40 pr-40 tp-invoice-print-wrapper",children:[(0,r.jsx)("div",{className:"invoice__header-wrapper border-2 border-bottom border-white mb-40",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-xl-12",children:(0,r.jsx)("div",{className:"invoice__header pb-20",children:(0,r.jsxs)("div",{className:"row align-items-end",children:[(0,r.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,r.jsxs)("div",{className:"invoice__left",children:[(0,r.jsx)(l(),{src:j.Z,alt:"logo"}),(0,r.jsxs)("p",{children:["2879 Elk Creek Road ",(0,r.jsx)("br",{})," Stone Mountain, Georgia "]})]})}),(0,r.jsx)("div",{className:"col-md-8 col-sm-6",children:(0,r.jsx)("div",{className:"invoice__right mt-15 mt-sm-0 text-sm-end",children:(0,r.jsx)("h3",{className:"text-uppercase font-70 mb-20",children:"Invoice"})})})]})})})})}),(0,r.jsx)("div",{className:"invoice__customer mb-30",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6 col-sm-8",children:(0,r.jsxs)("div",{className:"invoice__customer-details",children:[(0,r.jsx)("h4",{className:"mb-10 text-uppercase",children:e}),(0,r.jsx)("p",{className:"mb-0 text-uppercase",children:s}),(0,r.jsx)("p",{className:"mb-0 text-uppercase",children:c}),(0,r.jsx)("p",{className:"mb-0",children:i})]})}),(0,r.jsx)("div",{className:"col-md-6 col-sm-4",children:(0,r.jsxs)("div",{className:"invoice__details mt-md-0 mt-20 text-md-end",children:[(0,r.jsxs)("p",{className:"mb-0",children:[(0,r.jsx)("strong",{children:"Invoice ID:"})," #",n]}),(0,r.jsxs)("p",{className:"mb-0",children:[(0,r.jsx)("strong",{children:"Date:"})," ",d()(m).format("MMMM D, YYYY")]})]})})]})}),(0,r.jsx)("div",{className:"invoice__order-table pt-30 pb-30 pl-40 pr-40 bg-white mb-30",children:(0,r.jsxs)("table",{className:"table",children:[(0,r.jsx)("thead",{className:"table-light",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"SL"}),(0,r.jsx)("th",{scope:"col",children:"Product Name"}),(0,r.jsx)("th",{scope:"col",children:"Quantity"}),(0,r.jsx)("th",{scope:"col",children:"Item Price"}),(0,r.jsx)("th",{scope:"col",children:"Amount"})]})}),(0,r.jsx)("tbody",{className:"table-group-divider",children:h.map((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s+1}),(0,r.jsx)("td",{children:e.title}),(0,r.jsx)("td",{children:e.orderQuantity}),(0,r.jsxs)("td",{children:["$",e.price]}),(0,r.jsxs)("td",{children:["$",e.price*e.orderQuantity]})]},s))})]})}),(0,r.jsx)("div",{className:"invoice__total pt-40 pb-10 alert-success pl-40 pr-40 mb-30",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,r.jsxs)("div",{className:"invoice__payment-method mb-30",children:[(0,r.jsx)("h5",{className:"mb-0",children:"Payment Method"}),(0,r.jsx)("p",{className:"tp-font-medium text-uppercase",children:N})]})}),(0,r.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,r.jsxs)("div",{className:"invoice__shippint-cost mb-30",children:[(0,r.jsx)("h5",{className:"mb-0",children:"Shipping Cost"}),(0,r.jsxs)("p",{className:"tp-font-medium",children:["$",p]})]})}),(0,r.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,r.jsxs)("div",{className:"invoice__discount-cost mb-30",children:[(0,r.jsx)("h5",{className:"mb-0",children:"Discount"}),(0,r.jsxs)("p",{className:"tp-font-medium",children:["$",x.toFixed(2)]})]})}),(0,r.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,r.jsxs)("div",{className:"invoice__total-ammount mb-30",children:[(0,r.jsx)("h5",{className:"mb-0",children:"Total Ammount"}),(0,r.jsx)("p",{className:"tp-font-medium text-danger",children:(0,r.jsxs)("strong",{children:["$",parseInt(v).toFixed(2)]})})]})})]})})]}),(0,r.jsx)("div",{className:"invoice__print text-end mt-3",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-xl-12",children:(0,r.jsx)(o(),{trigger:()=>(0,r.jsxs)("button",{type:"button",className:"tp-invoice-print tp-btn tp-btn-black",children:[(0,r.jsx)("span",{className:"mr-5",children:(0,r.jsx)("i",{className:"fa-regular fa-print"})})," ","Print"]}),content:()=>a.current,documentTitle:"Invoice"})})})})]})})})}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(m.Z,{pageTitle:"Order Details"}),(0,r.jsx)(p.Z,{style_2:!0}),b,(0,r.jsx)(x.Z,{primary_style:!0})]})})}},19209:(e,s,c)=>{"use strict";c.d(s,{HY:()=>a,SB:()=>d,T2:()=>t,yX:()=>l});var r=c(60454),i=c(9613);let{useCreatePaymentIntentMutation:a,useSaveOrderMutation:l,useGetUserOrderByIdQuery:t,useGetUserOrdersQuery:d}=r.g.injectEndpoints({overrideExisting:!0,endpoints:e=>({createPaymentIntent:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/order/create-payment-intent",method:"POST",body:e}),async onQueryStarted(e,s){let{queryFulfilled:c,dispatch:r}=s;try{let e=await c;r((0,i.SZ)(e.clientSecret))}catch(e){}}}),saveOrder:e.mutation({query:e=>({url:"https://shofy-backend.vercel.app/api/order/saveOrder",method:"POST",body:e}),invalidatesTags:["UserOrders"],async onQueryStarted(e,s){let{queryFulfilled:c,dispatch:r}=s;try{await c&&(localStorage.removeItem("couponInfo"),localStorage.removeItem("cart_products"),localStorage.removeItem("shipping_info"))}catch(e){}}}),getUserOrders:e.query({query:()=>"https://shofy-backend.vercel.app/api/user-order",providesTags:["UserOrders"],keepUnusedDataFor:600}),getUserOrderById:e.query({query:e=>"https://shofy-backend.vercel.app/api/user-order/".concat(e),providesTags:(e,s,c)=>[{type:"UserOrder",id:c}],keepUnusedDataFor:600})})})}},e=>{var s=s=>e(e.s=s);e.O(0,[6911,1759,5735,8554,8642,4509,2888,9774,179],()=>s(72284)),_N_E=e.O()}]);